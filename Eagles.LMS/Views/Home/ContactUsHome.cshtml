@model ContactUsRequist
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var requestStatus = TempData.Peek("RequestStatus") as RequestStatus;
    bool en = true;

    if (Request.Cookies["Language"] != null)
    {
        en = (Request.Cookies["Language"].Value.ToString() == "en") ? true : false;

    }
    UnitOfWork ctx = new UnitOfWork();
    var SEO = ctx.SEOManager.GetAll().FirstOrDefault();

    var _contactUs = ctx.ContactUsManager.GetAll().FirstOrDefault();
}


@if (en) {
@section PageTitle{
    <title>@SEO.ContactUsPageTitle</title>
}
@section metatags{
    <meta name="keywords" content="@SEO.ContactUsPageMetaKeywords " />
    <meta name="description" id="metaDesc" content="@SEO.ContactUsPageMetaDescription" />
    <link rel="canonical" id="canonicalUrl" href="@SEO.ContactUsPageCanonicalUrl" />
}
}
else {
@section PageTitle{
    <title>@SEO.ContactUsPageTitle_AR</title>
}
@section metatags{
    <meta name="keywords" content="@SEO.ContactUsPageMetaKeywords_AR " />
    <meta name="description" id="metaDesc" content="@SEO.ContactUsPageMetaDescription_AR" />
    <link rel="canonical" id="canonicalUrl" href="@SEO.ContactUsPageCanonicalUrl" />
}
}

@section EndHeader{
    <link href="~/assets_2/vendors/base/vendors.bundle.rtl.css" rel="stylesheet" type="text/css" />


    <style>
        .menu li a.active-a8 {
            color: #af7a2c;
            border-bottom: 1px solid #fff0;
            font-weight: 500;
        }
    </style>


}

<div class="header-bc">
    <div class="container">
        <div class="row">

            <div class="col-md-6">

                <div class="title-header">

                    <h3>@Resources.Global.ContactUs</h3>

                    <div class="breadcrumbs">
                        <ul>
                            <li><a href="/Home">@Resources.Global.Home</a> > </li>
                            <li>@Resources.Global.ContactUs</li>
                        </ul>
                    </div>
                    <!--end breadcrumb-->

                </div>
                <!--end title-header-->

            </div>
            <!--end col-6-->



        </div>
        <!--end row-->
    </div>
    <!--end container-->
</div>
<!--end header-bc-->



<div class="news">
    <div class="container">
        <div class="row">

            <div class="col-md-4">
                <div class="address">

                    <h3><i class="fa fa-map-marker"></i></h3>
                    <h4>@Resources.Global.address</h4>
                    @if (en)
                    {
                        <p>@_contactUs.AddressEnglish</p>
                    }
                    else
                    {
                        <p>@_contactUs.AddressArabic</p>

                    }


                </div>
                <!--end adress-->
            </div>
            <!--end col-4-->


            <Div class="cleaner-h2 visible-xs"></Div>


            <div class="col-md-4">
                <div class="address">

                    <h3><i class="fa fa-phone"></i></h3>
                    <h4>@Resources.Global.Hattef</h4>
                    @if (en)
                    {
                        <p>@_contactUs.Phone</p>
                    }
                    else
                    {

                        <p style="direction: ltr;">@_contactUs.Phone</p>

                    }




                </div>
                <!--end adress-->
            </div>
            <!--end col-4-->

            <Div class="cleaner-h2 visible-xs"></Div>



            <div class="col-md-4">
                <div class="address">

                    <h3><i class="fa fa-envelope"></i></h3>
                    <h4>@Resources.Global.Email</h4>
                    <p>@_contactUs.Email</p>


                </div>
                <!--end adress-->
            </div>
            <!--end col-4-->


        </div>
        <!--end row-->
    </div>
    <!--end container-->
</div>
<!--end news-->

<div class="container sendmessage">
    <div class="row">

        <div class="col-md-12">

            <h3>@Resources.Global.SendMessage</h3>
        </div>

        <div class="cleaner-h2"></div>


        @using (Html.BeginForm("ContactUsHome", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {

            <div class="col-lg-12">

                <form action="#" method="post">
                    <div class="row">
                        <div class="col-md-6">
                            @Html.TextBoxFor(s => s.FirstName, null, new
                           {
                               @class = "",
                               placeholder = @Resources.Global.FirstName,
                               @required = "rquired"
                           })
                        </div>
                        <div class="col-md-6">
                            @Html.TextBoxFor(s => s.LastName, null, new
                           {
                               @class = "",
                               placeholder = @Resources.Global.LastName,
                               @required = "rquired"
                           })
                        </div>
                        <div class="col-md-6">
                            @Html.TextBoxFor(s => s.Email, null, new
                           {
                               @class = "",
                               placeholder = @Resources.Global.Email,
                               @required = "rquired",
                               Type = "email"
                           })
                        </div>
                        <div class="col-md-6">
                            @Html.TextBoxFor(s => s.Phone, null, new
                           {
                               @class = "",
                               placeholder = @Resources.Global.phone,
                               @required = "rquired"
                           })
                        </div>

                        <div class="col-md-12">
                            @Html.TextAreaFor(s => s.Message, new
                       {
                           @class = "",
                           placeholder = @Resources.Global.YourMessage
                       })
                        </div>


                        @*<div class="col-md-6">
                                <input type="text" id="Text_LastName" placeholder='@Resources.Global.LastName' />
                            </div>
                            <div class="col-md-6">
                                <input type="text" id="Text_Email" placeholder='@Resources.Global.Email' />
                            </div>
                            <div class="col-md-6">
                                <input type="text" id="Text_Phone" placeholder='@Resources.Global.Hattef' />
                            </div>
                            <div class="col-md-12">
                                <textarea id="Text_Message" placeholder='@Resources.Global.YourMessage'></textarea>
                            </div>
                            <div class="col-lg-12">
                                <a id="BTN_SendMessage" class="btn btn-black " style="color:#fff">@Resources.Global.Send</a>
                            </div>*@












                        @*<div class="col-md-6">
                                <div class="form-group">
                                    <label>@Resources.Global.FirstName</label>

                                </div>
                            </div>*@



                        <div class="col-lg-12 col-md-12">
                            <div class="form-group">
                                <button id="Careers_SendForm" type="submit" class="btn btn-black">@Resources.Global.Send</button>
                            </div>
                        </div>
                        <!--end col-12-->


                    </div>
                    <!--end row-->

                </form>


            </div>

        }


        @*<div class="col-lg-12">
                <div class="row">
                    <div class="col-md-6">
                        <input type="text" id="Text_FirstName" placeholder='@Resources.Global.FirstName' />
                    </div>
                    <div class="col-md-6">
                        <input type="text" id="Text_LastName" placeholder='@Resources.Global.LastName' />
                    </div>
                    <div class="col-md-6">
                        <input type="text" id="Text_Email" placeholder='@Resources.Global.Email' />
                    </div>
                    <div class="col-md-6">
                        <input type="text" id="Text_Phone" placeholder='@Resources.Global.Hattef' />
                    </div>
                    <div class="col-md-12">
                        <textarea id="Text_Message" placeholder='@Resources.Global.YourMessage'></textarea>
                    </div>
                    <div class="col-lg-12">
                        <a id="BTN_SendMessage" class="btn btn-black " style="color:#fff">@Resources.Global.Send</a>
                    </div>
                </div>
            </div>*@




    </div>
    <!--end row-->
</div>
<!--end container-->


<Div class="cleaner-h3 hidden-xs"></Div>


<section class="map-loading">


    <!--

            <iframe class="possition" src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13822.334720113951!2d31.43418945!3d29.9913924!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sar!2seg!4v1634508265298!5m2!1sar!2seg" width="100%" height="630" style="border:0;"
                allowfullscreen="" loading="lazy"></iframe>
    -->
    <!--
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1726.7709238441291!2d31.21595155872192!3d30.049999200000006!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145841fe81fb8d79%3A0x7292c22730b866c5!2sMedia%20Services%20Center%20EMPC!5e0!3m2!1sen!2seg!4v1647522850851!5m2!1sen!2seg"
                width="100%" height="100%" style="border:0;" allowfullscreen=""></iframe>
    -->
    <!--<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d13822.334720113951!2d31.43418945!3d29.9913924!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sar!2seg!4v1635321981691!5m2!1sar!2seg" width="100%" height="450" style="border:0;" allowfullscreen=""></iframe>-->

    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3456.483567264462!2d31.0162038!3d29.9655299!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145850de313fc431%3A0xcc3136a98fa3c2fd!2sEMPC%20TV!5e0!3m2!1sen!2seg!4v1667854294294!5m2!1sen!2seg" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>


</section>



@section EndBody {

    <script src="~/assets_2/vendors/base/vendors.bundle.js" type="text/javascript"></script>
    <script src="~/assets_2/default/base/Scripts.bundle.js" type="text/javascript"></script>
    <script src="~/assets_2/plugins/extended/bootstrap-notify.js" type="text/javascript"></script>


    @if (requestStatus != null)
    {

        <script>

    notify = $.notify({
        message: '@requestStatus.Message',

    }, {

        type: '@requestStatus.Status' == 'Created' ? "success" : "danger",
        animate: {
            enter: 'animated flipInY',
            exit: 'animated flipOutX',
        }
    });
        </script>

        TempData.Remove("RequestStatus");
    }




    <script>
        $(() => {
            function errorMessage(error) {
                $.notifyClose();
                $.notify({
                    title: "Error:",
                    message: error,

                }, {
                    allow_dismiss: true,
                    showProgressbar: false,
                    type: "danger",
                    mouse_over: null,
                    animate: {
                        enter: 'animated flipInY',
                        exit: 'animated flipOutX',

                    }
                });
            }
            $("#Careers_SssendForm").click(s => {
                s.preventDefault();
                let obj = {};
                console.log(obj);
                if (validateForm(obj)) {
                    debugger
                    var _url = "/Home/Careerss";
                    var formdata = new FormData(); //FormData object
                    var fileUpload = $('#Careers_UploadCv').get(0);
                    var files = fileUpload.files;
                    var fileData = new FormData();

                    // Looping over all files and add it to FormData object
                    for (var i = 0; i < files.length; i++) {
                        fileData.append(files[i].name, files[i]);
                    }

                    // Adding one more key to FormData object
                    fileData.append('username', 'Manas');
                    var filesNEwInput = document.getElementById('Careers_UploadCv').files[0];
                    //var fileInput = document.getElementById('Careers_UploadCv');

                    //Iterating through each files selected in fileInput
                    //for (i = 0; i < fileInput.files.length; i++) {
                    //    //Appending each file to FormData object
                    //    formdata.append(fileInput.files[i].name, fileInput.files[i]);
                    //}

                    //var AttachCareer=JSON.stringify(obj.Data);
                    var AttachCareer = JSON.stringify(formdata);
                    $.ajax({
                        type: "post",
                        url: _url,
                        //contenttype: "application/json",
                        //data: 'uploadattachments='+AttachCareer ,
                        contentType: false, // Not to set any content header
                        processData: false, // Not to process data  ,

                        data: fileData,
                        success(resonse) {
                            alert("sent succesfully");
                            location.reload();
                        }, error(error) {
                            errorMessage(error.responseJSON.Message);
                        }
                    })

                }
            });
            function validateForm(obj) {

                let flag = false,
                    _Careers_Name = $("#Careers_Name").val(),
                    _Careers_DateOfBirth = $("#Careers_DateOfBirth").val(),
                    _Careers_Address = $("#Careers_Address").val(),
                    _Careers_Certification = $("#Careers_Certification").val(),
                    _Careers_CertificationYears = $("#Careers_CertificationYears").val(),
                    _Careers_ExperianceLevel = $("#Careers_ExperianceLevel").val(),
                    _Careers_JobName = $("#Careers_JobName").val();
                _Careers_UploadCv = $("#Careers_UploadCv").val();


                if (_Careers_Name == "" || typeof (_Careers_Name) == 'undefined') {
                    errorMessage("Please Enter The Your Name");
                    return false;
                }
                if (_Careers_DateOfBirth == "" || typeof (_Careers_DateOfBirth) == 'undefined') {
                    errorMessage("Please Enter Your Date Of Birth");


                    return false;
                }

                if (_Careers_Address == "" || typeof (_Careers_Address) == 'undefined') {
                    errorMessage("Please Enter Address");
                    return false;
                }

                if (_Careers_Certification == "" || typeof (_Careers_Certification) == 'undefined') {
                    errorMessage("Please Enter Certification");
                    return false;
                }
                if (_Careers_CertificationYears == "" || typeof (_Careers_CertificationYears) == 'undefined') {
                    errorMessage("Please Enter Certification Years ");
                    return false;
                }
                if (_Careers_JobName == "" || typeof (_Careers_JobName) == 'undefined') {
                    errorMessage("Please Enter Job Name");
                    return false;
                }
                if (Careers_ExperianceLevel.value == "" || typeof (Careers_ExperianceLevel) == 'undefined') {
                    errorMessage("Please Select Experiance Level");
                    return false;
                }
                if (Careers_UploadCv.value == "" || typeof (Careers_UploadCv) == 'undefined') {
                    errorMessage("Please Upload file");
                    return false;
                }


                obj.Data = {
                    Name: _Careers_Name,
                    DateOfBirth: _Careers_DateOfBirth,
                    Address: _Careers_Address,
                    Certification: _Careers_Certification,
                    GraduationYears: _Careers_CertificationYears,
                    JobName: _Careers_JobName,
                    ExperianceLevel: _Careers_ExperianceLevel,
                    CVLink: _Careers_UploadCv

                }
                return true;


            }
        })
    </script>















    <script>
        $(() => {

            //$("input[name='options']").change(s => {
            //    s.preventDefault();
            //    let _val = $(s.currentTarget).val();
            //    if (_val != 'student') {
            //        $(".box_student").slideUp();
            //    } else {
            //        $(".box_student").slideDown();

            //    }
            //});
            //let ddl_grades = $("#ddl_grades"),
            //    ddl_groups = $("#ddl_groups");
            //    getAllGroup(ddl_grades.val());

            //function getAllGroup(gradeid) {
            //    $.ajax({
            //        type: "GET",
            //        url: "/api/web/Grade/" + gradeid + "/GetGroups/en",
            //        success: function (response) {

            //            let option = ``;
            //            for (var i = 0; i < response.length; i++) {
            //                option += `<option value=${response[i].Id}>${response[i].Name}</option>`;
            //            }
            //            ddl_groups.html(option);
            //        }
            //    });
            //}


            //$("#ddl_grades").change(s => {

            //    ddl_groups.children("option").eq(0).nextAll().remove();
            //    ddl_groups.empty();
            //    getAllGroup($(s.currentTarget).val());


            //});

            function errorMessage(error) {
                $.notifyClose();
                $.notify({
                    title: "Error:",
                    message: error,

                }, {
                    allow_dismiss: true,
                    showProgressbar: false,
                    type: "danger",
                    mouse_over: null,
                    animate: {
                        enter: 'animated flipInY',
                        exit: 'animated flipOutX',

                    }
                });

            }

            $("#BTN_SendMessage").click(s => {
                s.preventDefault();
                let obj = {};
                if (validateForm(obj)) {
                    //$.ajax({
                    //    type: "POST",
                    //    url: "/mob/api/Studnets/Create",
                    //    contentType: "application/json",
                    //    data: JSON.stringify(obj.Data),
                    //    success(resonse) {
                    //        if (obj.Data.IsParent == true) {
                    //            window.open("/Account/login", "_self");

                    //        } else {
                    //            window.open("/Account/Pending", "_self");
                    //        }
                    //    }, error(error) {
                    //        errorMessage(error.responseJSON.Message);

                    //    }
                    //})
                }



            });
            function validateEmail(email) {
                var re = /^(([^<>()[\]\\.,;:\s@@\"]+(\.[^<>()[\]\\.,;:\s@@\"]+)*)|(\".+\"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;


                return re.test(email);
            }
            function validateForm(obj) {

                let flag = false,
                    FirstName = $("#Text_FirstName").val(),
                    LastName = $("#Text_LastName").val(),
                    Email = $("#Text_Email").val(),
                    Phone = $("#Text_Phone").val(),
                    Message = $("#Text_Message").val();



                if (FirstName == "" || typeof (FirstName) == 'undefined') {
                    errorMessage("Please Enter Your First Name");
                    return false;
                }
                if (LastName == "" || typeof (LastName) == 'undefined') {
                    errorMessage("Please Enter Your Last Name");
                    return false;
                }
                if (Email == "" || typeof (Email) == 'undefined') {
                    errorMessage("Please Enter Your Email");
                    return false;
                }
                if (!validateEmail(Email)) {
                    errorMessage("Please Enter An Valid Email Address");
                    return false;
                }
                if (Phone == "" || typeof (Phone) == 'undefined') {
                    errorMessage("Please Enter Your Phone");
                    return false;
                }

                if (Message == "" || typeof (Message) == 'undefined') {
                    errorMessage("Please Write Your Message");
                    return false;
                }

                obj.Data = {
                    FirstName: FirstName,
                    LastName: LastName,
                    Email: Email,
                    Phone: Phone,
                    Message: Message,
                }
                return true;
            }
        })
    </script>

}